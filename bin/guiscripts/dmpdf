#!/bin/bash

find ${1:-~/docs ~/dl} 2> /dev/null | grep -E ".+\.pdf" | sort > /tmp/dmpdf
choice="$(\
        sed 's|^/home/aluc|\~| ; s|\([^/]\)[^/]*/|\1/|g' /tmp/dmpdf \
		| awk '{printf "%s %s\n", NR ":", $0}' \
        | dmenu -l 10 -g 1 -x -i \
		| grep -oE "^[0-9]+:" \
)"
if [ -z "$choice" ]; then
	exit
fi
file="$(sed -n "${choice::-1}p" /tmp/dmpdf)"
evince "$file" &
