#!/bin/sh

# path to repo
repo="$1"
# git command
command="$2"
[ "$#" -lt 2 ] && exit 1

repo_pretty="$(printf '%s' "$repo" | sed "s@^$HOME@~@")"

if [ ! -d "$repo" ]; then
	printf '%s missing\n' "$repo_pretty"
	exit 1
fi

git -C "$repo" "$command" >/dev/null 2>&1
[ $? -gt 0 ] && s="x" || s="o"
printf '%s: %s\n' "$repo_pretty" "$s"
